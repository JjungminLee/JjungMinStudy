## 프로세스 API

### 프로세스를 생성하고 제어하는 방법

- fork

  - fork를 통해 생성된 프로세스는 호출한 프로세스의 복사본
  - fork()로부터 부모프로세스는 생성된 자식의 pid를 받고, 자식프로세스는 0을 반환받음
  - 문제는 부모랑 자식중 뭐가 실행될지 모른다는것!
  - CPU 스케쥴러가 실행할 프로세르르 결정하는데 이런 문제 때문에 멀티 쓰레드 프로그래밍에서 다양한 문제를 마주하게됨

- wait

  - 자식 프로세스 종료시점까지 부모 프로세스를 종료시키는 것
  - 자식 프로세스가 종료되면 wait()는 리턴됨
  - 자식 먼저 실행 -> wait 실행 -> 부모 실행

- exec

  - 자기 자신이 아닌 다른 프로그램을 실행해야할 때 사용
  - fork 시스템콜은 자신의 복사본을 생성하여 실행
  - fork와 exec 시스템콜을 분리해야 쉘이 fork() 실행 후 exec()호출하기 전에 코드를 분리할 수 있다

- 예제
  - wc p3.c > newfile.txt
  - 리디렉션으로 재지정하는 모습 이건 어떤 원리로 실행되는걸까?
  - 자식이 생성되고 exec()이 호출되기 전에 표준출력 파일을 닫고 newfile.txt를 연다
  - 실행될 프로그램인 wc의 출력은 화면이 아니라 파일로 보내진다.
